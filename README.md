# Внесение правок в базу данных электронного дневника

Эти скрипты позволяют внести некоторые изменения в базу данных электронного дневника.


Скрипты работают с [версией электронного дневника](https://github.com/devmanorg/e-diary/tree/master), написанной на `Django`.
Доступны такие изменения, как:
- исправление плохих оценок на отличные;
- удаление всех замечаний, полученных от учителей и записанных в дневник;
- добавление записей с похвалой для конкретного ученика.

## Перед запуском
Скачайте `scripts.py`.
### Для локального тестирования
Если вы хотите посмотреть локально, как работают скрипты, 
вам необходимо будет скачать и запустить свою тестовую версию сайта [электронного дневника](https://github.com/devmanorg/e-diary/tree/master).
Следуйте инструкциям в README проекта, чтобы установить окружение и запустить сайт.
Скопируйте файл со скриптами в папку, в которой находится файл `manage.py`.
### Для изменений на сервере с дневником
Загрузите файл со скриптами на сервер с дневником в папку, в которой находится файл `manage.py`.

## Запустите оболочку Python в Django в консоли
Откройте консоль на сервере и запустите shell с помощью команды:
```
python manage.py shell
```
В качестве подтверждения вы увидите:
```
(InteractiveConsole)
>>>
```
*Подробнее про то, как запускать `Python shell`, на [csestack.org](https://www.csestack.org/open-python-shell-django/)

## Импортируйте все команды из скрипта
В shell введите команду:
```
from scripts import *
```

После этого вам будут доступны следующие функции:
- `fix_marks(schoolkid)` - исправление оценок;
- `remove_chastisements(schoolkid)` - удаление замечаний;
- `create_commendation(schoolkid, subject, commendation_text=None)` - добавление записи с похвалой.

### Исправление оценок
Для исправления всех "2" и "3" на "5" во всех уже выставленных оценках одного ученика запустите в оболочке django команду:
```
fix_marks('Иванов Иван Иванович')
```
*Вместо шаблона подставьте свое ФИО*

### Удаление замечаний
Для удаления всех поставленных замечаний выполните команду:
```
remove_chastisements('Иванов Иван Иванович')
```
*Вместо шаблона подставьте свое ФИО*

### Добавление записи с похвалой
Чтобы добавить запись с похвалой выполните:
```
create_commendation('Иванов Иван Иванович', 'Математика'[, 'Хвалю!'])
```
- Вместо шаблонного ФИО подставьте свое.
- Вместо 'Математика' подставьте предмет, на котором нужно сделать запись похвалы.
Запись будет сделана от последнего урока по этому предмету.
- Вы можете явно указать свой текст похвалы в качестве третьего аргумента. Или можете его не указывать: тогда текст случайным образом будет выбран из встроенного списка.

*Встроенный список текстов похвалы:*
```
'Молодец!'
'Отлично!'
'Хорошо!'
'Гораздо лучше, чем я ожидал!'
'Ты меня приятно удивил!'
'Великолепно!'
'Прекрасно!'
'Ты меня очень обрадовал!'
'Именно этого я давно ждал от тебя!'
'Сказано здорово – просто и ясно!'
'Ты, как всегда, точен!'
'Очень хороший ответ!'
'Талантливо!'
'Ты сегодня прыгнул выше головы!'
'Я поражен!'
'Уже существенно лучше!'
'Потрясающе!'
'Замечательно!'
'Прекрасное начало!'
'Так держать!'
'Ты на верном пути!'
'Здорово!'
'Это как раз то, что нужно!'
'Я тобой горжусь!'
'С каждым разом у тебя получается всё лучше!'
'Мы с тобой не зря поработали!'
'Я вижу, как ты стараешься!'
'Ты растешь над собой!'
'Ты многое сделал, я это вижу!'
'Теперь у тебя точно все получится!'
```
(Будьте внимательны в родом слов. Он зависит от пола учителя, который ведет этот предмет. От его/ее лица выставляется похвала. 
Следите, чтобы фраза звучала правдоподобно)

После успешного выполнения команд, проверьте на сайте внесенные изменения.
## Для разработчиков
Для изменений вам понадобится развернутый у себя сайт и БД электронного дневника. 
Вы можете развернуть свой собственный проект. Тогда вам потребуется свой собственный файл БД, который будет подключен к сайту.
Или можете воспользоваться готовой версией из [репозитория с электронным дневником](https://www.csestack.org/open-python-shell-django/).
Следуйте инструкциям в README, чтобы установить у себя сайт и подключить базу данных.
Запустите скрипт, следуя инструкции выше.

## Цель проекта
Проект написан в учебных целях для сайта [devman.org](https://dvmn.org/).
